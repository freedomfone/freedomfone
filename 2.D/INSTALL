*** BUILDING FREEDOM FONE 4.0 in a i386 ARCH ***

STEP 1. Install Ubuntu 10.04-3 i386 Desktop edition

STEP 2. Install subversion
# apt-get install subversion

STEP 3. Download Freedom Fone builder
# mkdir -p /opt/freedomfone
# cd /opt/freedomfone; svn co https://dev.freedomfone.org/svn/freedomfone/branches/3.0/ .
# cd /opt/freedomfone; chmod 755 *.sh

STEP 4. Install packages and dependencies
The software dependencies will allow you to run and build freeswitch with Freedom Fone dependencies. 

# cd /opt/freedomfone; ./download.sh

STEP 5. Download pre-compiled packages for Freeswitch and Cepstral

# cd /opt/freedomfone; ./download_bin.sh

STEP 6. Install Cepstral, accept default values (/opt/swift as installation directory)

# cd /opt/freedomfone; tar zxvf Cepstral_Allison-8kHz_i386-linux_5.1.0.tar.gz; cd  /opt/freedomfone/Cepstral_Allison-8kHz_i386-linux_5.1.0; ./install.sh

STEP 7. Install Freeswitch for Freedom Fone

# cd /opt/freedomfone; dpkg -i freeswitch_1.0.head-git.master.20110530.ffone-9_i386.deb freeswitch-lang-en_1.0.head-git.master.20110530.ffone-9_i386.deb freeswitch-spidermonkey_1.0.head-git.master.20110530.ffone-9_i386.deb

STEP 8. Install rootconf, that contains default configurations for PHP5, Apache2, iwatch, cron and startup services

# cd /opt/freedomfone; ./rootconf_install.sh

STEP 9. Install DB Schemas and demo data
# cd /opt/freedomfone; ./db_install.sh 
#(optional)
# cd /opt/freedomfone; ./demo_install.sh  
#(/optional)
# cd /opt/freedomfone; ./fix_perms_all.sh

STEP 10. Fix the boot process with upstart 

Apply the upstart patch
#cd /opt/freedomfone/fixes; ./20120119_startup.sh 


*** Updating a running installation ***

A running installation can be updated by upgrading/reinstalling the freeswitch packages that bundle the components
that we use. 

Download the latest versions and run:

#cd /opt/freedomfone; dpkg -i freeswitch_1.0.head-git.master.20110530.ffone-12_i386.deb freeswitch-lang-en_1.0.head-git.master.20110530.ffone-12_i386.deb freeswitch-spidermonkey_1.0.head-git.master.20110530.ffone-12_i386.deb

#cd /opt/freedomfone; chmod 755 fix_perms_all.sh
#cd /opt/freedomfone; ./fix_perms_all.sh

Other components of the system can be updated using Subversion. 
Subversion changes can alter the permissions, so you need to run
the fix_perms scripts after any update.


